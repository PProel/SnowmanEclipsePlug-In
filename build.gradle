apply plugin: 'distribution'

// Common configuration //
allprojects {
	version='0.0.1'	
}

subprojects.each { subproject ->
    evaluationDependsOn(subproject.path)
}

distributions {
	site {
		contents {
			into('features') {
				from { fileTree('snowman.ide.eclipse.feature/build/libs') { include '*.jar' } }
			}
			into('plugins') {
				from { fileTree('snowman.ide.eclipse.plugin/build/libs') { include '*.jar' } }
			}
			from 'snowman.ide.eclipse.site/site.xml', 'LICENSE', 'NOTICE', 'README.md'
		}
	}
}

installSiteDist.dependsOn subprojects.tasks['jar']
